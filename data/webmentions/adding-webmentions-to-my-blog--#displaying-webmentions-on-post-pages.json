[
  {
    "type": "entry",
    "author": {
      "type": "card",
      "name": "James Mead",
      "photo": "",
      "url": "https://jamesmead.org/"
    },
    "url": "https://jamesmead.org/blog/2020-06-27-indieweb-ifying-my-personal-website",
    "published": "2020-06-27T18:53:00+00:00",
    "wm-received": "2020-10-04T23:38:09Z",
    "wm-id": 865210,
    "wm-source": "https://jamesmead.org/blog/2020-06-27-indieweb-ifying-my-personal-website",
    "wm-target": "https://sebastiandedeyne.com/adding-webmentions-to-my-blog/#displaying-webmentions-on-post-pages",
    "name": "IndieWeb-ifying my personal website",
    "summary": {
      "content-type": "text/plain",
      "value": "Marking up relevant content with microformats and adding the ability to receive webmentions"
    },
    "content": {
      "html": "<p>I've been interested in the <a href=\"https://indieweb.org/\">IndieWeb</a> since my colleague, <a href=\"http://chrisroos.co.uk/\">Chris R</a>, hosted <a href=\"https://gofreerange.com/the-first-london-indieweb-homebrew-website-club\">the first London IndieWeb meetup</a> years ago and at various points I've played with a few bits of it on my website, e.g. <a href=\"https://en.wikipedia.org/wiki/OpenID\">OpenID</a> and <a href=\"https://indieauth.net/\">IndieAuth</a>. As part of my efforts to move away from Twitter and Facebook, I recently joined the very friendly <a href=\"https://fosstodon.org/\">fosstodon.org</a> Mastodon instance and I noticed quite a lot of toots about the IndieWeb including one which mentioned the <a href=\"https://indiewebify.me\">indiewebify.me</a> website which walks you through various levels of IndieWeb \"compliance\". I've been interested in finding out more about <a href=\"https://www.w3.org/TR/webmention/\">Webmentions</a> for a while and this gave me the motivation I needed to give them a try.</p>\n\n<p>It turns out I had already <a href=\"https://github.com/floehopper/jamesmead.org/commit/7755ead416ed2e39906a1d61f692d0b83be34546\">become a citizen of the IndieWeb</a>, i.e. Level 1 compliance, back in June 2013 and amazingly (to me anyway) that functionality was still working. Level 2 compliance is about publishing on the IndieWeb and Level 3 compliance is about federating IndieWeb conversations.</p>\n\n<h3>Publishing on the IndieWeb</h3>\n\n<p>For level 2, the first step was to markup my home page using the <a href=\"http://microformats.org/wiki/h-card\">h-card microformat</a>, not to be confused with the older <a href=\"http://microformats.org/wiki/hCard\">hCard microformat</a>. I started doing this by creating separate hidden markup, but I was unhappy with the amount of duplication. And so, after faffing about with <a href=\"https://middlemanapp.com/\">middleman</a> for a while and discovering its <a href=\"https://middlemanapp.com/basics/layouts/#nested-layouts\">nested layouts</a>, I managed to markup some of the existing content to reduce the amount of duplication: <a href=\"https://github.com/floehopper/jamesmead.org/blob/6760dd64e5a3999f19726efa96f46e4d42fd9905/source/layouts/home.html.erb#L2-L6\">h-card &amp; p-name</a>, <a href=\"https://github.com/floehopper/jamesmead.org/blob/6760dd64e5a3999f19726efa96f46e4d42fd9905/source/index.html.erb#L12-L13\">p-org, p-job-title, p-locality &amp; p-country-name</a> and <a href=\"https://github.com/floehopper/jamesmead.org/blob/6760dd64e5a3999f19726efa96f46e4d42fd9905/source/index.html.erb#L31-L46\">u-photo, p-note, u-uid &amp; u-url</a>. The validator suggested that it was <a href=\"https://indiewebify.me/validate-h-card/?url=https%3A%2F%2Fjamesmead.org%2F\">working OK</a>. So far, so good.</p>\n\n<p><img style=\"margin-left:auto;margin-right:auto;\" src=\"https://jamesmead.org/images/h-card-validation.png\" alt=\"h-card validation success\" /></p>\n\n<p>The next step was to markup my blog posts with the <a href=\"http://microformats.org/wiki/h-entry\">h-entry microformat</a>. This was relatively straightforward to implement now that I had a separate <a href=\"https://github.com/floehopper/jamesmead.org/blob/b5522b3c2529b93b3dfd07b148ecc3f911d23d4f/source/layouts/blog.html.erb#L2-L19\"><code>blog</code> layout</a> and the validator suggested that it was <a href=\"https://indiewebify.me/validate-h-entry/?url=https%3A%2F%2Fjamesmead.org%2Fblog%2F2020-03-30-automatic-backup-of-trello-boards-to-s3-using-aws-cdk\">working OK</a>.</p>\n\n<p><img style=\"margin-left:auto;margin-right:auto;\" src=\"https://jamesmead.org/images/h-entry-validation.png\" alt=\"h-entry validation success\" /></p>\n\n<p>At this point, I should have added the ability to send Webmentions to other IndieWeb sites, but it's not completely obvious to me how to do this for a static site. I <em>think</em> I could do it by hooking the <a href=\"https://github.com/indieweb/webmention-client-ruby\"><code>webmention</code> gem</a> into my <a href=\"https://jamesmead.org/blog/2019-09-07-using-github-actions-to-publish-a-static-site-to-github-pages\">GitHub Action-based build</a>, but I decided to skip this step for now given that it's relatively easy to <a href=\"https://indieweb.org/webmention-implementation-guide#One-liner_webmentions\">send a Webmention manually using <code>curl</code></a> and it's not as if I currently blog that frequently!</p>\n\n<h3>Federating IndieWeb conversations</h3>\n\n<p>I also decided to skip the steps about posting <a href=\"https://indieweb.org/reply\">replies</a> to other people's posts and adding <a href=\"https://indieweb.org/reply-context\">reply contexts</a> to my own site until I actually want to reply to something someone has written.</p>\n\n<p>However, I did <a href=\"https://github.com/floehopper/jamesmead.org/blob/6760dd64e5a3999f19726efa96f46e4d42fd9905/source/layouts/layout.html.erb#L33\">configure my site to receive Webmentions</a> using the excellent hosted <a href=\"https://webmention.io/\">webmention.io</a> service. This was very easy.</p>\n\n<p>I then added some very basic code to <a href=\"https://github.com/floehopper/jamesmead.org/commit/6760dd64e5a3999f19726efa96f46e4d42fd9905\">display Webmentions</a> at the bottom of each blog post closely based on <a href=\"https://sebastiandedeyne.com/adding-webmentions-to-my-blog/#displaying-webmentions-on-post-pages\">Sebastian De Deyne's implementation</a>. For the moment, I'm using JavaScript running on the client-side, but I can see how in time this might lead to putting an unfair load on webmention.io.</p>\n\n<p>A better solution might be to incorporate fetching the latest Webmentions and rendering them in HTML into the automated build, perhaps enhancing them with the latest Webmentions using JavaScript. I think this might be how the <a href=\"https://github.com/aarongustafson/jekyll-webmention_io\">webmention.io Jekyll plugin</a> works, but that's a job for another day.</p>\n\n<p>I checked that my website is receiving Webmentions OK by commenting on a blog post using <a href=\"https://commentpara.de/\">commentpara.de</a>. ðŸŽ‰ðŸŽ‰</p>\n\n<p><img style=\"border:1px dashed;margin-left:auto;margin-right:auto;\" src=\"https://jamesmead.org/images/webmention-comment.png\" alt=\"comment added using commentpara.de\" /></p>\n\n<p>Clearly I haven't yet fully achieved even level 2 IndieWeb compliance, but I'm pleased with what I've done so far and, more to the point, what I've learnt in doing it. I should also mention that I found lots of useful advice in the following articles:</p>\n\n<ul><li>\n    <p><a href=\"https://sebastiandedeyne.com/adding-webmentions-to-my-blog/\">Adding webmentions to my blog</a> by Sebastian De Deyne</p>\n  </li>\n  <li>\n    <p><a href=\"https://www.jvt.me/posts/2019/03/18/displaying-webmentions/\">Displaying Webmentions on my Hugo website</a> by Jamie Tanna</p>\n  </li>\n  <li>\n    <p><a href=\"http://evantravers.com/articles/2019/11/14/indieweb-webmentions-on-middleman-or-jekyll/\">Indieweb Webmentions on Middleman or Jekyll</a> by Evan Travers</p>\n  </li>\n</ul>",
      "text": "I've been interested in the IndieWeb since my colleague, Chris R, hosted the first London IndieWeb meetup years ago and at various points I've played with a few bits of it on my website, e.g. OpenID and IndieAuth. As part of my efforts to move away from Twitter and Facebook, I recently joined the very friendly fosstodon.org Mastodon instance and I noticed quite a lot of toots about the IndieWeb including one which mentioned the indiewebify.me website which walks you through various levels of IndieWeb \"compliance\". I've been interested in finding out more about Webmentions for a while and this gave me the motivation I needed to give them a try.\n\nIt turns out I had already become a citizen of the IndieWeb, i.e. Level 1 compliance, back in June 2013 and amazingly (to me anyway) that functionality was still working. Level 2 compliance is about publishing on the IndieWeb and Level 3 compliance is about federating IndieWeb conversations.\n\nPublishing on the IndieWeb\n\nFor level 2, the first step was to markup my home page using the h-card microformat, not to be confused with the older hCard microformat. I started doing this by creating separate hidden markup, but I was unhappy with the amount of duplication. And so, after faffing about with middleman for a while and discovering its nested layouts, I managed to markup some of the existing content to reduce the amount of duplication: h-card & p-name, p-org, p-job-title, p-locality & p-country-name and u-photo, p-note, u-uid & u-url. The validator suggested that it was working OK. So far, so good.\n\n\n\nThe next step was to markup my blog posts with the h-entry microformat. This was relatively straightforward to implement now that I had a separate blog layout and the validator suggested that it was working OK.\n\n\n\nAt this point, I should have added the ability to send Webmentions to other IndieWeb sites, but it's not completely obvious to me how to do this for a static site. I think I could do it by hooking the webmention gem into my GitHub Action-based build, but I decided to skip this step for now given that it's relatively easy to send a Webmention manually using curl and it's not as if I currently blog that frequently!\n\nFederating IndieWeb conversations\n\nI also decided to skip the steps about posting replies to other people's posts and adding reply contexts to my own site until I actually want to reply to something someone has written.\n\nHowever, I did configure my site to receive Webmentions using the excellent hosted webmention.io service. This was very easy.\n\nI then added some very basic code to display Webmentions at the bottom of each blog post closely based on Sebastian De Deyne's implementation. For the moment, I'm using JavaScript running on the client-side, but I can see how in time this might lead to putting an unfair load on webmention.io.\n\nA better solution might be to incorporate fetching the latest Webmentions and rendering them in HTML into the automated build, perhaps enhancing them with the latest Webmentions using JavaScript. I think this might be how the webmention.io Jekyll plugin works, but that's a job for another day.\n\nI checked that my website is receiving Webmentions OK by commenting on a blog post using commentpara.de. ðŸŽ‰ðŸŽ‰\n\n\n\nClearly I haven't yet fully achieved even level 2 IndieWeb compliance, but I'm pleased with what I've done so far and, more to the point, what I've learnt in doing it. I should also mention that I found lots of useful advice in the following articles:\n\n\n    Adding webmentions to my blog by Sebastian De Deyne\n  \n  \n    Displaying Webmentions on my Hugo website by Jamie Tanna\n  \n  \n    Indieweb Webmentions on Middleman or Jekyll by Evan Travers"
    },
    "mention-of": "https://sebastiandedeyne.com/adding-webmentions-to-my-blog/#displaying-webmentions-on-post-pages",
    "wm-property": "mention-of",
    "wm-private": false
  }
]