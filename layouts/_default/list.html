{{ define "main" }}

{{ $paginator := .Paginate (where .Pages "Type" "posts") }}

{{ range $paginator.Pages }}
  <article class="pb-12 sm:pb-20 border-b mb-12 sm:mb-20">
    <header>
      <h1 class="h1 mb-0">
        <a href="{{ .RelPermalink }}">
          {{ .Title }}
        </a>
      </h1>
      <p class="text-sm text-gray-600 mb-8">
          <a href="{{ .RelPermalink }}">
            <time datetime="{{ .Date.Format "2006-01-02" }}">
              {{ .Date.Format "January 2, 2006" }}
            </time>
          </a>
      </p>
    </header>
    <section class="markup">
      {{ if .Truncated }}
        {{ .Summary }}
        <p>
          <a href="{{ .RelPermalink }}">
            Read more
          </a>
        </p>
      {{ else }}
        {{ .Content }}
      {{ end }}
    </section>
  </article>
{{ end }}

{{ template "_internal/pagination.html" . }}

{{ end }}
